---
layout: post
title:  "Nginx配置静态资源"
date:   2020-02-14 21:18:23 +0700
categories: [nginx]
---

摘要：使用Nginx配置静态资源。

------

修改nginx配置：

```shell
vim /NGINX_HOME/conf/nginx.conf

    server {
        listen       8000;
        server_name  web_file;
        charset utf-8;
        location /www {
            alias   /www/;
        }
    }

/NGINX_HOME/sbin/nginx -t

nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok
nginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful


/NGINX_HOME/sbin/nginx -s reload

```

重启后可以通过curl或是浏览器访问：

http://ip:8000/www/custom.txt

访问可直接得到文件中的内容，若是中文存在乱码情况，注意文件编码格式应为utf-8，并且在nginx.conf中的http配置项下加上：charset utf-8;


tips:

nginx.conf中service配置项中，location中的配置有两种：

root相应的路径：配置的路径+完整访问路径（完整的location配置路径+静态文件）

alias相应的路径：配置路径+静态文件（去除location中配置的路径）


所以作为静态资源服务器时，使用alias更加方便。

官方root配置说明：

```
Sets the root directory for requests. For example, with the following configuration
location /i/ {
    root /data/w3;
}
The /data/w3/i/top.gif file will be sent in response to the “/i/top.gif” request

```

官方alias配置说明：

```
Defines a replacement for the specified location. For example, with the following configuration
location /i/ {
    alias /data/w3/images/;
}
on request of “/i/top.gif”, the file /data/w3/images/top.gif will be sent.
```

------

>**版权声明**：本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)进行许可，转载请注明出处。 
>
>**作者**： YaoQi.
>
>**时间**： 2020-02-14.
